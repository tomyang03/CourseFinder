(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),s=a.n(l),c=(a(46),a(2)),o=(a(8),a(1)),u=a(4),i=r.a.createContext(),m=function(e){var t=Object(n.useState)({firstName:"Brian"}),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),d=m[0],E=m[1],p=Object(n.useState)([]),h=Object(o.a)(p,2),g=h[0],v=h[1],b={authenticateduser:{get:s,set:c},isAuthenticated:{get:d,set:E},courses:{get:g,set:v},signIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=a(14),l="".concat("","/user"),s=new Headers;s.append("Authorization","Basic "+r.encode(e+":"+t)),fetch(l,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(a){console.log(a),a._id?(c({email:e,password:t,userId:a._id,firstName:a.firstName,lastName:a.lastName}),E(!0),n(!0)):n(!1)}))},signOut:function(){c({email:"",password:"",userId:0,firstName:"",lastName:""}),E(!1)},signUp:function(e,t,a,n,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};console.log(a),console.log(n);var s="".concat("","/user");if(r===n){var o={firstName:e,lastName:t,emailAddress:a,password:n,confirmedpassword:r};fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.errors?l(!1,e.errors):(console.log(e),c({email:e.createduser.emailAddress,password:n,userId:e.createduser._id,firstName:e.createduser.firstName,lastName:e.createduser.lastName}),E(!0),l(!0,""))}))}else l(!1,["Password and confirmed password does not match"])}};return r.a.createElement(i.Provider,{value:b},e.children)};var d=function(){var e=Object(n.useContext)(i),t=e.authenticateduser.get,a=e.isAuthenticated.get;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",{className:"header--logo"},"Courses"),r.a.createElement("nav",null,a&&r.a.createElement("span",null," ","Welcome ",t.firstName," ",t.lastName,"!"," "),a&&r.a.createElement(u.b,{className:"signup",to:"/signout"},"Sign Out"),!a&&r.a.createElement(u.b,{className:"signup",to:"/signup"},"Sign Up"),!a&&r.a.createElement(u.b,{className:"signin",to:"/signin"},"Sign In")))),r.a.createElement("hr",null))},E=Object(c.f)((function(e){var t=Object(n.useContext)(i),a=Object(n.useState)(""),l=Object(o.a)(a,2),s=l[0],c=l[1],m=Object(n.useState)(""),E=Object(o.a)(m,2),p=E[0],h=E[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),b=v[0],f=v[1],N=function(t){t?e.history.push("/courses"):f("From Callback: Email Address or Password is incorrect.")};return r.a.createElement(i.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"root"},r.a.createElement(d,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"User Sign In"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:s,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:p,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return function(e,a,n){t.signIn(e,a,n)}(s,p,N)}},"Sign In"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel")),b&&r.a.createElement("p",{style:{color:"red"}},b))),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Don't have a user account?"," ",r.a.createElement(u.b,{to:"/signup"},"Click here")," to sign up!")))))}))}));var p=Object(c.f)((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(""),u=Object(o.a)(c,2),m=u[0],E=u[1],p=Object(n.useState)(""),h=Object(o.a)(p,2),g=h[0],v=h[1],b=Object(n.useState)(""),f=Object(o.a)(b,2),N=f[0],O=f[1],j=Object(n.useState)(""),C=Object(o.a)(j,2),y=C[0],w=C[1],S=Object(n.useState)([]),x=Object(o.a)(S,2),k=x[0],T=x[1],A=Object(n.useContext)(i);console.log(k);var I=function(t,a){t?e.history.push("/courses"):(console.log(a),T(a))};return console.log(g),console.log(N),r.a.createElement(i.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-33 centered UserSignUp"},r.a.createElement("h1",null,"User Sign Up"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{id:"firstName",name:"firstName",type:"text",className:"",placeholder:"First Name",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"lastName",name:"lastName",type:"text",className:"",placeholder:"Last Name",value:m,onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:g,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:N,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"",placeholder:"Confirm Password",value:y,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return function(e,t,a,n,r,l){A.signUp(e,t,a,n,r,l)}(l,m,g,N,y,I)}},"User Sign Up"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel"))),k.map((function(e,t){return r.a.createElement("p",{style:{color:"red"},key:t},e)}))),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Already have a user account?"," ",r.a.createElement("a",{href:"user-sign-in.html"},"Click here")," to sign in!"))))}))}));var h=Object(c.f)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],s=a[1],c=e.user;return Object(n.useEffect)((function(){!function(){var e="".concat("","/courses");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){s(e)}))}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds"},l.map((function(e){return r.a.createElement("div",{className:"grid-33",key:e._id},r.a.createElement(u.b,{className:"course--module course--link",to:{pathname:"/courses/"+e._id,state:{course:e}}},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},e.title)))})),r.a.createElement("div",{className:"grid-33"},r.a.createElement(u.b,{className:"course--module course--add--module",to:{pathname:"/courses/create",state:{user:c}}},r.a.createElement("h3",{className:"course--add--title"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 13 13",className:"add"},r.a.createElement("polygon",{points:"7,6 7,0 6,0 6,6 0,6 0,7 6,7 6,13 7,13 7,7 13,7 13,6 "})),"New Course")))))}));var g=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Not Found"),r.a.createElement("p",null,"Sorry! We couldn't find the page you're looking for.")))},v=a(26),b=a.n(v);var f=Object(c.f)((function(e){var t=Object(n.useContext)(i);console.log(t);var l=t.authenticateduser.get,s=e.location.state,c=(void 0===s?{}:s).course,m=void 0===c?{}:c;console.log(e.location),console.log(m);var E=Object(n.useState)(""),p=Object(o.a)(E,2),h=p[0],g=p[1];return console.log(m),console.log(l),console.log(l.userId),console.log(m.user._id),console.log(typeof l.userId),console.log(typeof m.user._id),console.log(l.userId===m.user._id),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",null,r.a.createElement("div",{className:"actions--bar"},r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-100"},console.log(l.userId),console.log(m.user._id),l.userId===m.user._id&&r.a.createElement("span",null,r.a.createElement(u.b,{className:"button",to:{pathname:"/courses/"+m._id+"/update",state:{course:m}}},"Update Course"),r.a.createElement("button",{className:"button",type:"button",onClick:function(){if(0!==Object.keys(m).length){var t=l.email,n=l.password,r=a(14),s="".concat("","/courses/delete/")+m._id,c=new Headers;c.append("Content-Type","application/json"),c.append("Authorization","Basic "+r.encode(t+":"+n)),fetch(s,{method:"DELETE",headers:c}).then((function(e){return e.json()})).then((function(t){t.successmessage?e.history.push("/courses"):g(t.message)}))}else g("Course not found")}},"Delete Course")),r.a.createElement(u.b,{className:"button button-secondary",to:"/courses"},"Return to List")))),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("div",{className:"grid-66"},h&&r.a.createElement("p",{style:{color:"red"}},h),r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},m.title),r.a.createElement("p",null,"By ",m.user.firstName," ",m.user.lastName," ")),r.a.createElement("div",{className:"course--description"},r.a.createElement(b.a,{source:m.description}))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("h3",null,m.estimatedTime)),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("ul",null,m.materialsNeeded&&m.materialsNeeded.split("*").map((function(e,t){return e&&r.a.createElement("li",{key:t},r.a.createElement(b.a,{source:e}))}))))))))))}));var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Forbidden"),r.a.createElement("p",null,"Oh oh! You can't access this page.")))};var O=Object(c.f)((function(e){var t=Object(n.useState)(""),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),E=m[0],p=m[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),v=g[0],b=g[1],f=Object(n.useState)(""),N=Object(o.a)(f,2),O=N[0],j=N[1],C=Object(n.useState)(""),y=Object(o.a)(C,2),w=y[0],S=y[1],x=Object(n.useContext)(i).authenticateduser.get;return console.log(w),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Create Course"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"validation-errors"},w&&w.map((function(e,t){return r.a.createElement("p",{style:{color:"red"},key:t},e)})))),r.a.createElement("form",null,r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:s,onChange:function(e){return c(e.target.value)}}))),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:E,onChange:function(e){return p(e.target.value)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:v,onChange:function(e){return b(e.target.value)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:O,onChange:function(e){return j(e.target.value)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){var t={title:s,description:E,estimatedTime:v,materialsNeeded:O,userId:x.userId};console.log(t);var n=x.email,r=x.password,l=a(14),c="".concat("","/courses/create"),o=new Headers;o.append("Content-Type","application/json"),o.append("Authorization","Basic "+l.encode(n+":"+r)),console.log(c),fetch(c,{method:"POST",headers:o,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t._id?e.history.push("/courses"):S(t.errors)}))}},"Create Course"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel"))))))}));var j=Object(c.f)((function(e){var t=Object(n.useContext)(i).authenticateduser.get,l=e.location.state,s=(void 0===l?{}:l).course,c=void 0===s?{}:s;console.log(c);var u=Object(n.useState)(c.title),m=Object(o.a)(u,2),E=m[0],p=m[1],h=Object(n.useState)(c.description),g=Object(o.a)(h,2),v=g[0],b=g[1],f=Object(n.useState)(c.estimatedTime),N=Object(o.a)(f,2),O=N[0],j=N[1],C=Object(n.useState)(c.materialsNeeded),y=Object(o.a)(C,2),w=y[0],S=y[1],x=Object(n.useState)([]),k=Object(o.a)(x,2),T=k[0],A=k[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Update Course"),T.length>0&&T.map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}}," ",e," ")})),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:E,onChange:function(e){return p(e.target.value)}}))),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:v,onChange:function(e){return b(e.target.value)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:O,onChange:function(e){return j(e.target.value)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:w,onChange:function(e){return S(e.target.value)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){if(0!==Object.keys(c).length){var n={title:E,description:v,estimatedTime:O,materialsNeeded:w,userId:c.userid},r=t.email,l=t.password,s=a(14),o="".concat("","/courses/update/")+c._id,u=new Headers;u.append("Content-Type","application/json"),u.append("Authorization","Basic "+s.encode(r+":"+l)),fetch(o,{method:"PUT",headers:u,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.updatedcourse._id?e.history.push("/courses"):A(t.errors)}))}else A(["Course not found"])}},"Update Course"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push({pathname:"/courses/"+c._id,state:{course:c}})}},"Cancel"))))))})),C=a(40),y=function(e){var t=e.component,a=Object(C.a)(e,["component"]),l=!0===Object(n.useContext)(i).isAuthenticated.get?t:N;return r.a.createElement(c.a,Object.assign({},a,{component:l}))};var w=Object(c.f)((function(e){var t=Object(n.useContext)(i);return r.a.createElement(i.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Sign Out"),r.a.createElement("p",null,"Are u sure you want to sign out? "),r.a.createElement("button",{className:"button",type:"button",onClick:function(){return t.signOut(),void e.history.push("/signin")}},"Sign Out")))}))})),S=function(){return r.a.createElement(m,null,r.a.createElement(n.Fragment,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signin",render:function(){return r.a.createElement(E,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(p,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signout",render:function(){return r.a.createElement(w,null)}}),r.a.createElement(y,{component:O,path:"/courses/create"}),r.a.createElement(c.a,{component:h,exact:!0,path:"/courses"}),r.a.createElement(c.a,{component:f,exact:!0,path:"/courses/:id"}),r.a.createElement(y,{component:j,exact:!0,path:"/courses/:id/update"}),r.a.createElement(c.a,{exact:!0,path:"/forbidden",component:N}),r.a.createElement(c.a,{render:function(){return r.a.createElement(g,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(S,null))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){e.exports=a(131)},46:function(e,t,a){},8:function(e,t,a){}},[[41,1,2]]]);
//# sourceMappingURL=main.451a32f7.chunk.js.map