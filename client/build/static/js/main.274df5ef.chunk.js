(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,a){a(31).config(),e.exports={SERVERURL:""}},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(39),s=a.n(l),c=(a(48),a(2)),o=(a(6),a(1)),u=a(4),i=a(11).SERVERURL,m=r.a.createContext(),d=function(e){var t=Object(n.useState)({firstName:"Hello"}),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),E=d[0],p=d[1],h=Object(n.useState)([]),g=Object(o.a)(h,2),v=g[0],b=g[1],f={authenticateduser:{get:s,set:c},isAuthenticated:{get:E,set:p},courses:{get:v,set:b},signIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=a(15),l="".concat(i,"/users"),s=new Headers;s.append("Authorization","Basic "+r.encode(e+":"+t)),fetch(l,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(a){a._id?(c({email:e,password:t,userId:a._id,firstName:a.firstName,lastName:a.lastName}),p(!0),n(!0)):n(!1)}))},signOut:function(){c({email:"",password:"",userId:0,firstName:"",lastName:""}),p(!1)}};return r.a.createElement(m.Provider,{value:f},e.children)};var E=function(){var e=Object(n.useContext)(m),t=e.authenticateduser.get,a=e.isAuthenticated.get;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",{className:"header--logo"},"Courses"),r.a.createElement("nav",null,a&&r.a.createElement("span",null," ","Welcome ",t.firstName," ",t.lastName,"!"," "),a&&r.a.createElement(u.b,{className:"signup",to:"/signout"},"Sign Out"),!a&&r.a.createElement(u.b,{className:"signup",to:"/signup"},"Sign Up"),!a&&r.a.createElement(u.b,{className:"signin",to:"/signin"},"Sign In")))),r.a.createElement("hr",null))},p=Object(c.f)((function(e){var t=Object(n.useContext)(m),a=Object(n.useState)(""),l=Object(o.a)(a,2),s=l[0],c=l[1],i=Object(n.useState)(""),d=Object(o.a)(i,2),p=d[0],h=d[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),b=v[0],f=v[1],N=function(t){t?e.history.push("/courses"):f("Email Address or Password is incorrect.")};return r.a.createElement(m.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"root"},r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"User Sign In"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:s,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:p,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return function(e,a,n){t.signIn(e,a,n)}(s,p,N)}},"Sign In"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel")),b&&r.a.createElement("p",{style:{color:"red"}},b))),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Don't have a user account?"," ",r.a.createElement(u.b,{to:"/signup"},"Click here")," to sign up!")))))}))}));var h=Object(c.f)((function(e){var t=Object(n.useState)(""),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(""),i=Object(o.a)(u,2),d=i[0],p=i[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),v=g[0],b=g[1],f=Object(n.useState)(""),N=Object(o.a)(f,2),j=N[0],O=N[1],C=Object(n.useState)(""),y=Object(o.a)(C,2),S=y[0],w=y[1],x=Object(n.useState)(""),R=Object(o.a)(x,2),k=R[0],U=R[1],T=Object(n.useContext)(m),A=a(11).SERVERURL;return r.a.createElement(m.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-33 centered UserSignUp"},r.a.createElement("h1",null,"User Sign Up"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{id:"firstName",name:"firstName",type:"text",className:"",placeholder:"First Name",value:s,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"lastName",name:"lastName",type:"text",className:"",placeholder:"Last Name",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:v,onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:j,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"",placeholder:"Confirm Password",value:S,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return function(){var t="".concat(A,"/user");if(S===j){var a={firstName:s,lastName:d,emailAddress:v,password:j,confirmedpassword:S};fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){t.error?(console.log("error",t.error),U(t.error)):(U(""),console.log(t),T.authenticateduser.set({email:t.createduser.emailAddress,password:j,userId:t.createduser._id,firstName:t.createduser.firstName,lastName:t.createduser.lastName}),T.isAuthenticated.set(!0),e.history.push("/courses"))}))}else U("Password and confirmed password does not match.")}()}},"User Sign Up"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel"))),k&&r.a.createElement("p",{style:{color:"red"}},k)),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Already have a user account?"," ",r.a.createElement("a",{href:"user-sign-in.html"},"Click here")," to sign in!"))))}))})),g=a(11).SERVERURL;var v=Object(c.f)((function(e){var t=Object(n.useState)([]),l=Object(o.a)(t,2),s=l[0],c=l[1],i=e.user;console.log("user",i),console.log("props",e);var d=Object(n.useContext)(m).authenticateduser.get;console.log(d);var p=d.email,h=d.password,v=a(15),b=new Headers;return b.append("Content-Type","application/json"),b.append("Authorization","Basic "+v.encode(p+":"+h)),Object(n.useEffect)((function(){!function(){var e="".concat(g,"/courses");fetch(e,{method:"GET",headers:b}).then((function(e){return e.json()})).then((function(e){c(e)}))}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},console.log("courses",s),s.map((function(e){if(e.user._id===d.userId)return r.a.createElement("div",{className:"grid-33",key:e._id},r.a.createElement(u.b,{className:"course--module course--link",to:{pathname:"/courses/"+e._id,state:{course:e}}},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},e.title)))})),r.a.createElement("div",{className:"grid-33"},r.a.createElement(u.b,{className:"course--module course--add--module",to:{pathname:"/courses/create",state:{user:i}}},r.a.createElement("h3",{className:"course--add--title"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 13 13",className:"add"},r.a.createElement("polygon",{points:"7,6 7,0 6,0 6,6 0,6 0,7 6,7 6,13 7,13 7,7 13,7 13,6 "})),"New Course")))))}));var b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Not Found"),r.a.createElement("p",null,"Sorry! We couldn't find the page you're looking for.")))},f=a(29),N=a.n(f),j=a(11).SERVERURL;var O=Object(c.f)((function(e){var t=Object(n.useContext)(m),l=t.authenticateduser.get,s=t.isAuthenticated.get,c=e.location.state,i=(void 0===c?{}:c).course,d=void 0===i?{}:i,p=d.User,h=void 0===p?{}:p,g=Object(n.useState)(""),v=Object(o.a)(g,2),b=v[0],f=v[1];return console.log("course",d),console.log(l),console.log("loggedInUser",l),console.log("course",d),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",null,r.a.createElement("div",{className:"actions--bar"},r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-100"}," ",s&&r.a.createElement("span",null,r.a.createElement(u.b,{className:"button",to:{pathname:"/courses/"+d._id+"/update",state:{course:d}}},"Update Course"),r.a.createElement("button",{className:"button",type:"button",onClick:function(){if(0!==Object.keys(d).length){var t=l.email,n=l.password,r=a(15);console.log("course",d);var s="".concat(j,"/courses/delete/")+d._id,c=new Headers;c.append("Content-Type","application/json"),c.append("Authorization","Basic "+r.encode(t+":"+n)),fetch(s,{method:"DELETE",headers:c}).then((function(e){return e.json()})).then((function(t){t.successmessage?e.history.push("/courses"):f(t.message)}))}else f("Course not found")}},"Delete Course")),r.a.createElement(u.b,{className:"button button-secondary",to:"/courses"},"Return to List")))),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("div",{className:"grid-66"},b&&r.a.createElement("p",{style:{color:"red"}},b),r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},d.title),r.a.createElement("p",null,"By ",h.firstName," ",h.lastName," ")),r.a.createElement("div",{className:"course--description"},r.a.createElement(N.a,{source:d.description}))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("h3",null,d.estimatedTime)),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("ul",null,d.materialsNeeded&&d.materialsNeeded.split("*").map((function(e,t){return e&&r.a.createElement("li",{key:t},r.a.createElement(N.a,{source:e}))}))))))))))}));var C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Forbidden"),r.a.createElement("p",null,"Oh oh! You can't access this page.")))},y=a(11).SERVERURL;var S=Object(c.f)((function(e){var t=Object(n.useState)(""),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(""),i=Object(o.a)(u,2),d=i[0],p=i[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),v=g[0],b=g[1],f=Object(n.useState)(""),N=Object(o.a)(f,2),j=N[0],O=N[1],C=Object(n.useState)(""),S=Object(o.a)(C,2),w=S[0],x=S[1],R=Object(n.useContext)(m).authenticateduser.get;return console.log("loggedInUser",R),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Create Course"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"validation-errors"},w&&r.a.createElement("p",{style:{color:"red"}},w))),r.a.createElement("form",null,r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:s,onChange:function(e){return c(e.target.value)}}))),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:d,onChange:function(e){return p(e.target.value)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:v,onChange:function(e){return b(e.target.value)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:j,onChange:function(e){return O(e.target.value)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){var t={title:s,description:d,estimatedTime:v,materialsNeeded:j,userId:R.userId},n=R.email,r=R.password,l=a(15),c="".concat(y,"/courses/create"),o=new Headers;o.append("Content-Type","application/json"),o.append("Authorization","Basic "+l.encode(n+":"+r)),fetch(c,{method:"POST",headers:o,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t._id?e.history.push("/courses"):x(t.errors)}))}},"Create Course"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel"))))))})),w=a(11).SERVERURL;var x=Object(c.f)((function(e){var t=Object(n.useContext)(m).authenticateduser.get,l=e.location.state,s=(void 0===l?{}:l).course,c=void 0===s?{}:s,u=Object(n.useState)(c.title),i=Object(o.a)(u,2),d=i[0],p=i[1],h=Object(n.useState)(c.description),g=Object(o.a)(h,2),v=g[0],b=g[1],f=Object(n.useState)(c.estimatedTime),N=Object(o.a)(f,2),j=N[0],O=N[1],C=Object(n.useState)(c.materialsNeeded),y=Object(o.a)(C,2),S=y[0],x=y[1],R=Object(n.useState)([]),k=Object(o.a)(R,2),U=k[0],T=k[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Update Course"),U.length>0&&U.map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}}," ",e," ")})),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:d,onChange:function(e){return p(e.target.value)}}))),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:v,onChange:function(e){return b(e.target.value)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:j,onChange:function(e){return O(e.target.value)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:S,onChange:function(e){return x(e.target.value)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){if(0!==Object.keys(c).length){console.log(t);var n={title:d,description:v,estimatedTime:j,materialsNeeded:S,userId:t.userId},r=t.email,l=t.password,s=a(15);console.log("props.location",e.location);var o="".concat(w,"/courses/update/")+c._id,u=new Headers;u.append("Content-Type","application/json"),u.append("Authorization","Basic "+s.encode(r+":"+l)),fetch(o,{method:"PUT",headers:u,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.errors?T(t.errors):e.history.push("/courses")}))}else T(["Course not found"])}},"Update Course"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push({pathname:"/courses/"+c.id,state:{course:c}})}},"Cancel"))))))})),R=a(42),k=function(e){var t=e.component,a=Object(R.a)(e,["component"]),l=!0===Object(n.useContext)(m).isAuthenticated.get?t:C;return r.a.createElement(c.a,Object.assign({},a,{component:l}))};a(11).SERVERURL;var U=Object(c.f)((function(e){var t=Object(n.useContext)(m);return r.a.createElement(m.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Sign Out"),r.a.createElement("p",null,"Are u sure you want to sign out? "),r.a.createElement("button",{className:"button",type:"button",onClick:function(){return t.signOut(),void e.history.push("/signin")}},"Sign Out")))}))}));var T=Object(c.f)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null))}));a(31).config(),console.log("production"),console.log("");var A=function(){return r.a.createElement(d,null,r.a.createElement(n.Fragment,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signin",render:function(){return r.a.createElement(p,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(k,{exact:!0,path:"/signout",render:function(){return r.a.createElement(U,null)}}),r.a.createElement(k,{component:S,path:"/courses/create"}),r.a.createElement(k,{component:v,exact:!0,path:"/courses"}),r.a.createElement(k,{component:O,exact:!0,path:"/courses/:id"}),r.a.createElement(k,{component:x,exact:!0,path:"/courses/:id/update"}),r.a.createElement(c.a,{exact:!0,path:"/forbidden",component:C}),r.a.createElement(c.a,{render:function(){return r.a.createElement(b,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(A,null))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,t,a){e.exports=a(136)},48:function(e,t,a){},6:function(e,t,a){}},[[43,1,2]]]);
//# sourceMappingURL=main.274df5ef.chunk.js.map