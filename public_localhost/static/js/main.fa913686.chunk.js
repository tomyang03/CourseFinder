(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),s=a.n(l),c=(a(46),a(2)),o=(a(8),a(1)),u=a(4),i="http://localhost:5000",m=r.a.createContext(),d=function(e){var t=Object(n.useState)({firstName:"Brian"}),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),E=d[0],p=d[1],h=Object(n.useState)([]),v=Object(o.a)(h,2),b=v[0],g=v[1],N={authenticateduser:{get:s,set:c},isAuthenticated:{get:E,set:p},courses:{get:b,set:g},signIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=a(14),l="".concat(i,"/user"),s=new Headers;s.append("Authorization","Basic "+r.encode(e+":"+t)),fetch(l,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(a){console.log(a),a._id?(c({email:e,password:t,userId:a._id,firstName:a.firstName,lastName:a.lastName}),p(!0),n(!0)):n(!1)}))},signOut:function(){c({email:"",password:"",userId:0,firstName:"",lastName:""}),p(!1)}};return r.a.createElement(m.Provider,{value:N},e.children)};var E=function(){var e=Object(n.useContext)(m),t=e.authenticateduser.get,a=e.isAuthenticated.get;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",{className:"header--logo"},"Courses"),r.a.createElement("nav",null,a&&r.a.createElement("span",null," ","Welcome ",t.firstName," ",t.lastName,"!"," "),a&&r.a.createElement(u.b,{className:"signup",to:"/signout"},"Sign Out"),!a&&r.a.createElement(u.b,{className:"signup",to:"/signup"},"Sign Up"),!a&&r.a.createElement(u.b,{className:"signin",to:"/signin"},"Sign In")))),r.a.createElement("hr",null))},p=Object(c.f)((function(e){var t=Object(n.useContext)(m),a=Object(n.useState)(""),l=Object(o.a)(a,2),s=l[0],c=l[1],i=Object(n.useState)(""),d=Object(o.a)(i,2),p=d[0],h=d[1],v=Object(n.useState)(""),b=Object(o.a)(v,2),g=b[0],N=b[1],f=function(t){t?e.history.push("/courses"):N("From Callback: Email Address or Password is incorrect.")};return r.a.createElement(m.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"root"},r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"User Sign In"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:s,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:p,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return function(e,a,n){t.signIn(e,a,n)}(s,p,f)}},"Sign In"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel")),g&&r.a.createElement("p",{style:{color:"red"}},g))),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Don't have a user account?"," ",r.a.createElement(u.b,{to:"/signup"},"Click here")," to sign up!")))))}))}));var h=Object(c.f)((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(""),u=Object(o.a)(c,2),d=u[0],p=u[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),b=v[0],g=v[1],N=Object(n.useState)(""),f=Object(o.a)(N,2),O=f[0],j=f[1],C=Object(n.useState)(""),y=Object(o.a)(C,2),S=y[0],w=y[1],x=Object(n.useState)(""),k=Object(o.a)(x,2),T=k[0],A=k[1],F=Object(n.useContext)(m);return r.a.createElement(m.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-33 centered UserSignUp"},r.a.createElement("h1",null,"User Sign Up"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{id:"firstName",name:"firstName",type:"text",className:"",placeholder:"First Name",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"lastName",name:"lastName",type:"text",className:"",placeholder:"Last Name",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:b,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:O,onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"",placeholder:"Confirm Password",value:S,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return function(){var t="".concat(i,"/user");if(S===O){var a={firstName:l,lastName:d,emailAddress:b,password:O};fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){t.error?A(t.message):(A(""),F.authenticateduser.set({email:t.createduser.emailAddress,password:O,userId:t.createduser.id,firstName:t.createduser.firstName,lastName:t.createduser.lastName}),F.isAuthenticated.set(!0),e.history.push("/courses"))}))}else A("Password and confirmed password does not match.")}()}},"User Sign Up"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel"))),T&&r.a.createElement("p",{style:{color:"red"}},T)),r.a.createElement("p",null,"\xa0"),r.a.createElement("p",null,"Already have a user account?"," ",r.a.createElement("a",{href:"user-sign-in.html"},"Click here")," to sign in!"))))}))}));var v=Object(c.f)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],s=a[1],c=e.user;return Object(n.useEffect)((function(){!function(){var e="".concat(i,"/courses");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){s(e)}))}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},l.map((function(e){return r.a.createElement("div",{className:"grid-33",key:e._id},r.a.createElement(u.b,{className:"course--module course--link",to:{pathname:"/courses/"+e._id,state:{course:e}}},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},e.title)))})),r.a.createElement("div",{className:"grid-33"},r.a.createElement(u.b,{className:"course--module course--add--module",to:{pathname:"/courses/create",state:{user:c}}},r.a.createElement("h3",{className:"course--add--title"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 13 13",className:"add"},r.a.createElement("polygon",{points:"7,6 7,0 6,0 6,6 0,6 0,7 6,7 6,13 7,13 7,7 13,7 13,6 "})),"New Course")))))}));var b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Not Found"),r.a.createElement("p",null,"Sorry! We couldn't find the page you're looking for.")))},g=a(26),N=a.n(g);var f=Object(c.f)((function(e){var t=Object(n.useContext)(m);console.log(t);var l=t.authenticateduser.get,s=e.location.state,c=(void 0===s?{}:s).course,d=void 0===c?{}:c;d.User,console.log(e.location),console.log(d);var p=Object(n.useState)(""),h=Object(o.a)(p,2),v=h[0],b=h[1];return console.log(d),console.log(l),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",null,r.a.createElement("div",{className:"actions--bar"},r.a.createElement("div",{className:"bounds"},r.a.createElement("div",{className:"grid-100"}," ",l.userId==d.user._id&&r.a.createElement("span",null,r.a.createElement(u.b,{className:"button",to:{pathname:"/courses/"+d._id+"/update",state:{course:d}}},"Update Course"),r.a.createElement("button",{className:"button",type:"button",onClick:function(){if(0!==Object.keys(d).length){var t=l.email,n=l.password,r=a(14),s="".concat(i,"/courses/delete/")+d._id,c=new Headers;c.append("Content-Type","application/json"),c.append("Authorization","Basic "+r.encode(t+":"+n)),fetch(s,{method:"DELETE",headers:c}).then((function(e){return e.json()})).then((function(t){t.successmessage?e.history.push("/courses"):b(t.message)}))}else b("Course not found")}},"Delete Course")),r.a.createElement(u.b,{className:"button button-secondary",to:"/courses"},"Return to List")))),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("div",{className:"grid-66"},v&&r.a.createElement("p",{style:{color:"red"}},v),r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("h3",{className:"course--title"},d.title),r.a.createElement("p",null,"By ",d.user.firstName," ",d.user.lastName," ")),r.a.createElement("div",{className:"course--description"},r.a.createElement(N.a,{source:d.description}))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("h3",null,d.estimatedTime)),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("ul",null,d.materialsNeeded&&d.materialsNeeded.split("*").map((function(e,t){return e&&r.a.createElement("li",{key:t},r.a.createElement(N.a,{source:e}))}))))))))))}));var O=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Forbidden"),r.a.createElement("p",null,"Oh oh! You can't access this page.")))};var j=Object(c.f)((function(e){var t=Object(n.useState)(""),l=Object(o.a)(t,2),s=l[0],c=l[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),p=d[0],h=d[1],v=Object(n.useState)(""),b=Object(o.a)(v,2),g=b[0],N=b[1],f=Object(n.useState)(""),O=Object(o.a)(f,2),j=O[0],C=O[1],y=Object(n.useState)(""),S=Object(o.a)(y,2),w=S[0],x=S[1],k=Object(n.useContext)(m).authenticateduser.get;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Create Course"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"validation-errors"},w&&r.a.createElement("p",{style:{color:"red"}},w))),r.a.createElement("form",null,r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:s,onChange:function(e){return c(e.target.value)}}))),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:p,onChange:function(e){return h(e.target.value)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:g,onChange:function(e){return N(e.target.value)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:j,onChange:function(e){return C(e.target.value)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){var t={title:s,description:p,estimatedTime:g,materialsNeeded:j,userId:k.userId},n=k.email,r=k.password,l=a(14),c="".concat(i,"/courses/create"),o=new Headers;o.append("Content-Type","application/json"),o.append("Authorization","Basic "+l.encode(n+":"+r)),fetch(c,{method:"POST",headers:o,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t._id?e.history.push("/courses"):x(t.errors)}))}},"Create Course"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push("/courses")}},"Cancel"))))))}));var C=Object(c.f)((function(e){var t=Object(n.useContext)(m).authenticateduser.get,l=e.location.state,s=(void 0===l?{}:l).course,c=void 0===s?{}:s;console.log(c);var u=Object(n.useState)(c.title),d=Object(o.a)(u,2),p=d[0],h=d[1],v=Object(n.useState)(c.description),b=Object(o.a)(v,2),g=b[0],N=b[1],f=Object(n.useState)(c.estimatedTime),O=Object(o.a)(f,2),j=O[0],C=O[1],y=Object(n.useState)(c.materialsNeeded),S=Object(o.a)(y,2),w=S[0],x=S[1],k=Object(n.useState)([]),T=Object(o.a)(k,2),A=T[0],F=T[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds course--detail"},r.a.createElement("h1",null,"Update Course"),A.length>0&&A.map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}}," ",e," ")})),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"grid-66"},r.a.createElement("div",{className:"course--header"},r.a.createElement("h4",{className:"course--label"},"Course"),r.a.createElement("div",null,r.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Course title...",value:p,onChange:function(e){return h(e.target.value)}}))),r.a.createElement("div",{className:"course--description"},r.a.createElement("div",null,r.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Course description...",value:g,onChange:function(e){return N(e.target.value)}})))),r.a.createElement("div",{className:"grid-25 grid-right"},r.a.createElement("div",{className:"course--stats"},r.a.createElement("ul",{className:"course--stats--list"},r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Estimated Time"),r.a.createElement("div",null,r.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:j,onChange:function(e){return C(e.target.value)}}))),r.a.createElement("li",{className:"course--stats--list--item"},r.a.createElement("h4",null,"Materials Needed"),r.a.createElement("div",null,r.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials...",value:w,onChange:function(e){return x(e.target.value)}})))))),r.a.createElement("div",{className:"grid-100 pad-bottom"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){if(0!==Object.keys(c).length){var n={title:p,description:g,estimatedTime:j,materialsNeeded:w,userId:c.userid},r=t.email,l=t.password,s=a(14),o="".concat(i,"/courses/update/")+c._id,u=new Headers;u.append("Content-Type","application/json"),u.append("Authorization","Basic "+s.encode(r+":"+l)),fetch(o,{method:"PUT",headers:u,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.updatedcourse._id?e.history.push("/courses"):F(t.errors)}))}else F(["Course not found"])}},"Update Course"),r.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.history.push({pathname:"/courses/"+c._id,state:{course:c}})}},"Cancel"))))))})),y=a(40),S=function(e){var t=e.component,a=Object(y.a)(e,["component"]),l=!0===Object(n.useContext)(m).isAuthenticated.get?t:O;return r.a.createElement(c.a,Object.assign({},a,{component:l}))};var w=Object(c.f)((function(e){var t=Object(n.useContext)(m);return r.a.createElement(m.Consumer,null,(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"bounds"},r.a.createElement("h1",null,"Sign Out"),r.a.createElement("p",null,"Are u sure you want to sign out? "),r.a.createElement("button",{className:"button",type:"button",onClick:function(){return t.signOut(),void e.history.push("/signin")}},"Sign Out")))}))})),x=function(){return r.a.createElement(d,null,r.a.createElement(n.Fragment,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement(v,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signin",render:function(){return r.a.createElement(p,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(c.a,{exact:!0,path:"/signout",render:function(){return r.a.createElement(w,null)}}),r.a.createElement(S,{component:j,path:"/courses/create"}),r.a.createElement(c.a,{component:v,exact:!0,path:"/courses"}),r.a.createElement(c.a,{component:f,exact:!0,path:"/courses/:id"}),r.a.createElement(S,{component:C,exact:!0,path:"/courses/:id/update"}),r.a.createElement(c.a,{exact:!0,path:"/forbidden",component:O}),r.a.createElement(c.a,{render:function(){return r.a.createElement(b,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(x,null))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){e.exports=a(131)},46:function(e,t,a){},8:function(e,t,a){}},[[41,1,2]]]);
//# sourceMappingURL=main.fa913686.chunk.js.map